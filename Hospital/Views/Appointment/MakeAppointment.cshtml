@using Hospital.Entities
@{
    ViewData["Title"] = "Randevu Ekranı";
}

<div class="row">
    <div class="col-4 offset-4">
        <h1 class="display-10 border-bottom text-center pb-2">@ViewData["Title"]</h1>
    </div>
</div>

<div class="row">
    <div class="col-4">
        <div class="mb-4">
            <div asp-validation-summary="All" class="text-danger small"></div>
        </div>

        <form method="post" asp-action="MakeAppointment">
            <div class="form-group">
                <label class="form-label small">Hasta Adı</label>
                <div class="input-group mb-3">
                    <input name="patientName" type="text" class="form-control" placeholder="John Doe" value="@ViewData["PatientName"]" />
                </div>
            </div>

            <div class="form-group">
    <label class="form-label small">Departman</label>
    <div class="input-group mb-3">
        <select name="department" class="form-control" onchange="this.form.submit()">
            @if (ViewData["Departments"] != null)
            {
                foreach (var department in (IEnumerable<Department>)ViewData["Departments"])
                {
                    <option value="@department.Id">@department.Name</option>
                }
            }
            else
            {
                <option value="">Departmanlar yüklenemedi</option>
            }
        </select>
    </div>
</div>

<div class="form-group">
    <label class="form-label small">Doktor Adı</label>
    <div class="input-group mb-3">
        <select name="doctorName" class="form-control">
            @if (ViewData["Doctors"] != null)
            {
                foreach (var doctor in (IEnumerable<Doctor>)ViewData["Doctors"])
                {
                    <option value="@doctor.Id">@doctor.Name</option>
                }
            }
            else
            {
                <option value="">Doktorlar yüklenemedi</option>
            }
        </select>
    </div>
</div>


            <div class="form-group">
                <label class="form-label small">Randevu Tarihi</label>
                <div class="input-group mb-3">
                    <input name="appointmentDate" type="date" class="form-control" value="@ViewData["AppointmentDate"]" />
                </div>
            </div>

            <div class="form-group">
                <label class="form-label small">Randevu Saati</label>
                <div class="input-group mb-3">
                    <input name="appointmentTime" type="time" class="form-control" value="@ViewData["AppointmentTime"]" />
                </div>
            </div>

            <button type="submit" class="btn btn-secondary">Randevu Al</button>
        </form>
    </div>
</div>
